<ion-header [translucent]="true">
  <ion-toolbar color ="success">
    <ion-title>{{movie?.title}}</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/movies"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
<ion-card *ngIf="movie">
  <img [src]="imageBaseUrl + '/w400' + movie.poster_path" />

  <ion-card-header>
    <ion-card-title> {{movie.title}} </ion-card-title>
    <ion-card-subtitle> {{movie.tagline}} </ion-card-subtitle>
    <ion-text color="tertiary">
     <span *ngFor="let g of movie.genres; let isLast = last">
      {{g.name}} {{!isLast ? '' : ''}}</span
      > 
    </ion-text>
  </ion-card-header>
  <ion-card-content>
    <ion-label color ="medium"> {{ movie.overview }}</ion-label>

    <ion-item lines="none">
      <ion-icon name="calendar-outline" slot="start"></ion-icon>
      <ion-label> {{movie.release_date | date: 'y' }} </ion-label>
    </ion-item>

    <ion-item lines="none">
     <ion-icon name="cash-outline" slot="start"></ion-icon>
     <ion-label> {{movie.budget | currency: 'USD'}} </ion-label>
    </ion-item>

    <ion-list>
      <ion-list-header>Actores:</ion-list-header>
      <ion-item *ngFor="let actor of movie.actors">
        <ion-avatar slot="start">
          <img [src]="actor.profile_path ? (imageBaseUrl + '/w200' + actor.profile_path) : 'assets/image-default/avatar-default.jpg'" />
        </ion-avatar>
        {{ actor.name }}
      </ion-item>
    </ion-list>

  </ion-card-content>

</ion-card>
</ion-content>
<ion-footer *ngIf="movie">
  <ion-button expand="full" (click)="openHomepage()">
    Sitio Oficial
  </ion-button>
</ion-footer>

<div *ngIf="errorMessage" class="error-message">
  {{ errorMessage }}
</div>